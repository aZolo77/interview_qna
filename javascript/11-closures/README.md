# –ó–∞–º—ã–∫–∞–Ω–∏—è (Closures)

## –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
**–ó–∞–º—ã–∫–∞–Ω–∏–µ** ‚Äî —ç—Ç–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –µ—ë **–ª–µ–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è**, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∞ –±—ã–ª–∞ –æ–±—ä—è–≤–ª–µ–Ω–∞.  
–ó–∞–º—ã–∫–∞–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ **—Å–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –≤–Ω–µ—à–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏**, –¥–∞–∂–µ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ —ç—Ç–∞ –≤–Ω–µ—à–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è —É–∂–µ –∑–∞–≤–µ—Ä—à–∏–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.  

---

## –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä

```js
    function outerFunction() {
      var outerVariable = 'Hello';

      function innerFunction() {
        console.log(outerVariable);
      }

      return innerFunction;
    }

    var closure = outerFunction();
    closure(); // –í—ã–≤–æ–¥: "Hello"
```

–ó–¥–µ—Å—å `innerFunction` ¬´–∑–∞–º–∫–Ω—É–ª–∞¬ª –Ω–∞ —Å–µ–±–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `outerVariable`.

---

## –ë–æ–ª–µ–µ –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä: —Å—á—ë—Ç—á–∏–∫

```js
    function createCounter() {
      var count = 0;

      return {
        increment: function() {
          count++;
          console.log(count);
        },
        decrement: function() {
          count--;
          console.log(count);
        }
      };
    }

    var counter = createCounter();
    counter.increment(); // 1
    counter.increment(); // 2
    counter.decrement(); // 1
```

üëâ –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `count` –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞–ø—Ä—è–º—É—é, –Ω–æ –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥—ã. –≠—Ç–æ **–∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è —Å –ø–æ–º–æ—â—å—é –∑–∞–º—ã–∫–∞–Ω–∏—è**.

---

## –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∑–∞–º—ã–∫–∞–Ω–∏—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ

- **–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**  
  –ú–æ–∂–Ω–æ —Å–∫—Ä—ã–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –¥–∞–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏–∏.  
  (–ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–¥—É–ª–∏ –∏–ª–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è `#private` –ø–æ–ª–µ–π –≤ –∫–ª–∞—Å—Å–∞—Ö).

- **–§–∞–±—Ä–∏–∫–∏ —Ñ—É–Ω–∫—Ü–∏–π**  
  –°–æ–∑–¥–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π —Å –ø—Ä–µ–¥–Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.  

```js
      function multiplier(factor) {
        return function(x) {
          return x * factor;
        };
      }

      const double = multiplier(2);
      console.log(double(5)); // 10
```

- **Callbacks, —Å–æ–±—ã—Ç–∏—è, —Ç–∞–π–º–µ—Ä—ã**  
  –ó–∞–º—ã–∫–∞–Ω–∏—è –ø–æ–∑–≤–æ–ª—è—é—Ç ¬´–ø–æ–º–Ω–∏—Ç—å¬ª –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–∞–∂–µ –ø–æ—Å–ª–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞.  

```js
      function setup() {
        let name = "JS";

        setTimeout(function() {
          console.log("Hello " + name);
        }, 1000);
      }

      setup(); // –ß–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É: "Hello JS"
```

- **–§—É–Ω–∫—Ü–∏–∏ –æ–¥–∏–Ω —Ä–∞–∑ (once)**  

```js
      function once(fn) {
        let called = false;
        return function(...args) {
          if (!called) {
            called = true;
            return fn(...args);
          }
        };
      }

      const init = once(() => console.log("Init"));
      init(); // "Init"
      init(); // –Ω–∏—á–µ–≥–æ –Ω–µ –≤—ã–≤–µ–¥–µ—Ç
```

---

## –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è

1. –ó–∞–º—ã–∫–∞–Ω–∏—è –æ–±—Ä–∞–∑—É—é—Ç—Å—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è.  
2. –û–Ω–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ —Å—Å—ã–ª–∫–∞ –Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Ñ—É–Ω–∫—Ü–∏—é. –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ **—É—Ç–µ—á–∫–∞–º –ø–∞–º—è—Ç–∏**, –µ—Å–ª–∏ —Å–ª—É—á–∞–π–Ω–æ –¥–µ—Ä–∂–∞—Ç—å —Å—Å—ã–ª–∫–∏ —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ.  
3. –ó–∞–º—ã–∫–∞–Ω–∏—è —á–∞—Å—Ç–æ —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç –≤–º–µ—Å—Ç–µ —Å —Ç–µ–º–∞–º–∏:
   - –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ (scope),
   - —Ü–µ–ø–æ—á–∫–∞ –æ–±–ª–∞—Å—Ç–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏ (scope chain),
   - —Ä–∞–∑–Ω–∏—Ü–∞ `var` / `let` / `const` –≤ —Ü–∏–∫–ª–∞—Ö.

---

## –ò—Ç–æ–≥

- –ó–∞–º—ã–∫–∞–Ω–∏–µ = —Ñ—É–Ω–∫—Ü–∏—è + –æ–∫—Ä—É–∂–µ–Ω–∏–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∞ —Å–æ–∑–¥–∞–Ω–∞.  
- –î–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –≤–Ω–µ—à–Ω–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤–Ω–µ—à–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏.  
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏, —Ñ–∞–±—Ä–∏–∫ —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ–ª–ª–±–µ–∫–æ–≤, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞.  
- –û—á–µ–Ω—å –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –∫–ª—é—á –∫ –ø–æ–Ω–∏–º–∞–Ω–∏—é JS.
