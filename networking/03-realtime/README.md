# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Long Polling, WebSockets –∏ Server-Sent Events –≤ JavaScript

## üìå –°–≤—è–∑—å —Å REST API
- **REST API** ‚Äî —ç—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç: –∫–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª –∑–∞–ø—Ä–æ—Å ‚Üí —Å–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω—É–ª –æ—Ç–≤–µ—Ç.
- **Long Polling, WebSockets –∏ SSE** —Ä–µ—à–∞—é—Ç –¥—Ä—É–≥—É—é –∑–∞–¥–∞—á—É ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
- –ß–∞—Å—Ç–æ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è **–≤–º–µ—Å—Ç–µ**:  
  - REST –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö.  
  - WebSockets/SSE/Long Polling –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.  

---

## üîπ Long Polling
### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
1. –ö–ª–∏–µ–Ω—Ç –¥–µ–ª–∞–µ—Ç `fetch` –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
2. –°–µ—Ä–≤–µ—Ä **–¥–µ—Ä–∂–∏—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã–º**, –ø–æ–∫–∞ –Ω–µ –ø–æ—è–≤—è—Ç—Å—è –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ.
3. –ö–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç ‚Üí —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç ‚Üí –∫–ª–∏–µ–Ω—Ç —Å—Ä–∞–∑—É –¥–µ–ª–∞–µ—Ç –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å.

### –ü—Ä–∏–º–µ—Ä
```js
async function longPoll() {
  try {
    const response = await fetch('/updates');
    const data = await response.json();
    console.log('–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:', data);

    // –°—Ä–∞–∑—É –¥–µ–ª–∞–µ–º –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
    longPoll();
  } catch (err) {
    console.error('–û—à–∏–±–∫–∞:', err);
    setTimeout(longPoll, 5000); // –ø–æ–≤—Ç–æ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ –ø—Ä–∏ –æ—à–∏–±–∫–µ
  }
}

longPoll();
```

---

## üîπ WebSockets
### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ HTTP –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è **–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –∫–∞–Ω–∞–ª**.
- –ò –∫–ª–∏–µ–Ω—Ç, –∏ —Å–µ—Ä–≤–µ—Ä –º–æ–≥—É—Ç —Å–ª–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –ª—é–±—É—é —Å—Ç–æ—Ä–æ–Ω—É.

### –ü—Ä–∏–º–µ—Ä
```js
// –°–æ–∑–¥–∞—ë–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
const socket = new WebSocket('ws://localhost:8080');

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
socket.onmessage = (event) => {
  console.log('–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:', event.data);
};

// –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
socket.onopen = () => {
  socket.send('–ü—Ä–∏–≤–µ—Ç, —Å–µ—Ä–≤–µ—Ä!');
};
```

---

## üîπ Server-Sent Events (SSE)
### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ö–ª–∏–µ–Ω—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `EventSource`.
- –°–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç **—Å—Ç—Ä–∏–º–∏—Ç—å —Å–æ–±—ã—Ç–∏—è** –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –¥–æ–ª–≥–æ.

### –ü—Ä–∏–º–µ—Ä
```js
// –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
const eventSource = new EventSource('/events');

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
eventSource.onmessage = (event) => {
  console.log('–ù–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ:', event.data);
};

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
eventSource.onerror = (error) => {
  console.error('–û—à–∏–±–∫–∞ SSE:', error);
};
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è       | –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ         | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ JS |
|------------------|---------------------|--------------------|
| **Long Polling** | –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ (—á–µ—Ä–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã) | `fetch()` –≤ —Ü–∏–∫–ª–µ |
| **WebSockets**   | –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ (–ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ)   | `new WebSocket()` |
| **SSE**          | —Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä ‚Üí –∫–ª–∏–µ–Ω—Ç               | `new EventSource()` |

---

## ‚úÖ –ò—Ç–æ–≥
- REST API = –∑–∞–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç.  
- Long Polling, WebSockets, SSE = "—Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è".  
- –û–±—ã—á–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä—É—é—Ç: REST ‚Üí –¥–ª—è –Ω–∞—á–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, WebSockets/SSE ‚Üí –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.
