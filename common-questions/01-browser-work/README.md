# Как работает браузер

Браузер — это программное обеспечение, которое позволяет пользователям просматривать и взаимодействовать с веб-страницами. Основные шаги его работы:

---

## Этапы работы браузера

### 1. Ввод URL
Пользователь вводит адрес (URL) в строку браузера.

### 2. DNS-запрос
Браузер обращается к DNS-серверу, чтобы преобразовать доменное имя (например, `example.com`) в IP-адрес сервера.

### 3. Установка соединения
- Браузер устанавливает TCP или HTTPS-соединение (в случае HTTPS дополнительно используется TLS/SSL для шифрования).  
- Для TCP применяется 3-way handshake.  
- Для HTTPS добавляется процесс обмена ключами.

### 4. Отправка HTTP-запроса
Браузер формирует и отправляет HTTP-запрос на сервер.  
Запрос включает метод (GET, POST и др.), заголовки и иногда тело.

### 5. Получение ответа
Сервер обрабатывает запрос и возвращает HTTP-ответ, содержащий:
- статус-код (например, 200 OK, 404 Not Found),  
- заголовки,  
- тело ответа (обычно HTML).

### 6. Парсинг и построение дерева
- HTML преобразуется в **DOM** (Document Object Model).  
- CSS обрабатывается и формирует **CSSOM**.  
- Вместе они образуют **Render Tree**, описывающий, что и как нужно отрисовать.

### 7. Загрузка дополнительных ресурсов
Браузер загружает изображения, стили, JS-скрипты, шрифты и другие файлы.  
Может использовать **кэш**, чтобы не загружать один и тот же ресурс повторно.

### 8. Выполнение JavaScript
JS выполняется в движке (например, V8 в Chrome).  
Скрипты могут менять DOM/CSSOM, что вызывает **reflow** (пересчёт раскладки) или **repaint** (перерисовку).

### 9. Отрисовка
На основе Render Tree браузер:
1. Вычисляет размеры и позиции элементов (Layout/Reflow).  
2. Применяет стили, цвета, изображения (Paint).  
3. Передаёт всё на GPU для финального отображения (Composite).

---

## Дополнительно для собеседования
- **Оптимизация**: браузеры используют пайплайнинг, параллельную загрузку ресурсов, кэширование и lazy loading.  
- **Блокирующие ресурсы**: CSS блокирует отрисовку, JS — выполнение, пока они не будут загружены и обработаны.  
- **Критический путь рендеринга** — последовательность шагов, необходимых для отображения первого пикселя.  

