# üéÆ –ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω: State (–°–æ—Å—Ç–æ—è–Ω–∏–µ)

## üìå –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
**State (–°–æ—Å—Ç–æ—è–Ω–∏–µ)** ‚Äî —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç **–æ–±—ä–µ–∫—Ç—É –∏–∑–º–µ–Ω—è—Ç—å —Å–≤–æ—ë –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è**, –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ –º–µ–Ω—è—è –µ–≥–æ –∫–ª–∞—Å—Å.

–¢–æ –µ—Å—Ç—å –æ–±—ä–µ–∫—Ç –≤–µ–¥—ë—Ç —Å–µ–±—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –∫–∞–∫ –±—É–¥—Ç–æ —É –Ω–µ–≥–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ ¬´—Ä–µ–∂–∏–º–æ–≤ —Ä–∞–±–æ—Ç—ã¬ª.

---

## üéØ –ò–¥–µ—è
–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø–∏—Å–∞—Ç—å –¥–ª–∏–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤–∏–¥–∞  
`if (state === "loading") {...} else if (state === "success") {...}`  
‚Äî –∫–∞–∂–¥—ã–π —Ä–µ–∂–∏–º –≤—ã–Ω–æ—Å–∏—Ç—Å—è –≤ **–æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è**.

–ì–ª–∞–≤–Ω—ã–π –æ–±—ä–µ–∫—Ç (–∫–æ–Ω—Ç–µ–∫—Å—Ç) –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é.

---

## üß© –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- –ö–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –¥–æ–ª–∂–µ–Ω –º–µ–Ω—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è.  
- –ö–æ–≥–¥–∞ –≤ –∫–æ–¥–µ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ `if`/`switch` —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è.  
- –ö–æ–≥–¥–∞ —Ä–∞–∑–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É –∏ –ø–µ—Ä–µ—Ö–æ–¥—ã.

---

## üíª –ü—Ä–∏–º–µ—Ä –≤ JavaScript

```js
// –ö–æ–Ω—Ç–µ–∫—Å—Ç
class Order {
  constructor() {
    this.state = new PendingState(this);
  }

  setState(state) {
    this.state = state;
  }

  nextState() {
    this.state.next();
  }

  cancelOrder() {
    this.state.cancel();
  }

  getStatus() {
    this.state.getStatus();
  }
}

// –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è
class State {
  constructor(order) {
    this.order = order;
  }

  next() {}
  cancel() {}
  getStatus() {}
}

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
class PendingState extends State {
  next() {
    console.log("‚è≥ –ó–∞–∫–∞–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –¥–æ—Å—Ç–∞–≤–∫—É.");
    this.order.setState(new ShippedState(this.order));
  }

  cancel() {
    console.log("‚ùå –ó–∞–∫–∞–∑ –æ—Ç–º–µ–Ω—ë–Ω.");
    this.order.setState(new CancelledState(this.order));
  }

  getStatus() {
    console.log("üïí –ó–∞–∫–∞–∑ –≤ –æ–∂–∏–¥–∞–Ω–∏–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.");
  }
}

class ShippedState extends State {
  next() {
    console.log("üì¶ –ó–∞–∫–∞–∑ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω –∫–ª–∏–µ–Ω—Ç—É.");
    this.order.setState(new DeliveredState(this.order));
  }

  cancel() {
    console.log("‚ùå –ù–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å ‚Äî –∑–∞–∫–∞–∑ —É–∂–µ –≤ –ø—É—Ç–∏!");
  }

  getStatus() {
    console.log("üöö –ó–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω.");
  }
}

class DeliveredState extends State {
  next() {
    console.log("‚úÖ –ó–∞–∫–∞–∑ —É–∂–µ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω, –±–æ–ª—å—à–µ –Ω–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥–æ–≤.");
  }

  cancel() {
    console.log("‚ùå –ù–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å ‚Äî –∑–∞–∫–∞–∑ —É–∂–µ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω.");
  }

  getStatus() {
    console.log("üéâ –ó–∞–∫–∞–∑ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω –∫–ª–∏–µ–Ω—Ç—É!");
  }
}

class CancelledState extends State {
  getStatus() {
    console.log("üíÄ –ó–∞–∫–∞–∑ –æ—Ç–º–µ–Ω—ë–Ω.");
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const order = new Order();
order.getStatus();
order.nextState();
order.getStatus();
order.nextState();
order.getStatus();
order.cancelOrder();

/*
–í—ã–≤–æ–¥:
üïí –ó–∞–∫–∞–∑ –≤ –æ–∂–∏–¥–∞–Ω–∏–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.
‚è≥ –ó–∞–∫–∞–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –¥–æ—Å—Ç–∞–≤–∫—É.
üöö –ó–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω.
üì¶ –ó–∞–∫–∞–∑ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω –∫–ª–∏–µ–Ω—Ç—É.
üéâ –ó–∞–∫–∞–∑ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω –∫–ª–∏–µ–Ω—Ç—É!
‚ùå –ù–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å ‚Äî –∑–∞–∫–∞–∑ —É–∂–µ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω.
*/
```

---

## üß† –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
1. –ö–æ–Ω—Ç–µ–∫—Å—Ç (`Order`) —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.  
2. –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∞–º–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –≤ –∫–∞–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ–π—Ç–∏ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–æ–≤.  
3. –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ—Å—Ç–æ –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è —Ç–µ–∫—É—â–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é.  

---

## üí¨ –ü—Ä–∏–º–µ—Ä—ã –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏
- **–ú–∞—à–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:** –∫–Ω–æ–ø–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å `disabled`, `loading`, `active`.  
- **–ò–≥—Ä–æ–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂:** —Å—Ç–æ–∏—Ç, –ø—Ä—ã–≥–∞–µ—Ç, –∞—Ç–∞–∫—É–µ—Ç, —É–º–∏—Ä–∞–µ—Ç ‚Äî –∫–∞–∂–¥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–º–µ–µ—Ç —Å–≤–æ—é –ª–æ–≥–∏–∫—É.  
- **–ü—Ä–æ—Ü–µ—Å—Å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞** –≤ e-commerce.  

---

## ‚úÖ –ü–ª—é—Å—ã
- –ò–∑–±–∞–≤–ª—è–µ—Ç –æ—Ç –≥—Ä–æ–º–æ–∑–¥–∫–∏—Ö `if`/`switch` –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π.  
- –ö–∞–∂–¥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–æ –∏ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ.  
- –£–ø—Ä–æ—â–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏.  

---

## ‚ùå –ú–∏–Ω—É—Å—ã
- –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∞—Å—Å–æ–≤.  
- –ò–Ω–æ–≥–¥–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–±—ã—Ç–æ—á–µ–Ω –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.  

---

## üí¨ –ù–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏ –º–æ–≥—É—Ç —Å–ø—Ä–æ—Å–∏—Ç—å
- –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è **State** –æ—Ç **Strategy**?  
  ‚Üí **Strategy** –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑–≤–Ω–µ –∏ –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è —Å–∞–º–∞;  
  **State** —Å–∞–º —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏.  

- –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ JS?  
  ‚Üí –í UI-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö (React hooks, Redux state machine), –≤ –ª–æ–≥–∏–∫–µ SPA, –∏–≥—Ä–æ–≤—ã—Ö –º–µ—Ö–∞–Ω–∏–∫–∞—Ö. 